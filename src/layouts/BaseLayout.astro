---
export interface Props {
  title: string;
  seoTitle?: string;
  seoDescription?: string;
}

import '../styles/global.css';

const { title, seoTitle, seoDescription } = Astro.props;
const displayTitle = seoTitle ? seoTitle.replace('%title%', title) : title;
const canonicalUrl = new URL(Astro.url.pathname, Astro.site).href;
---
<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>{displayTitle}</title>
  {seoDescription && <meta name="description" content={seoDescription} />}
  <link rel="canonical" href={canonicalUrl} />
  <link rel="icon" type="image/webp" sizes="32x32" href="/wp-content/uploads/2024/09/cropped-qwen-32x32.webp" />
  <link rel="icon" type="image/webp" sizes="192x192" href="/wp-content/uploads/2024/09/cropped-qwen-192x192.webp" />
  <link rel="apple-touch-icon" href="/wp-content/uploads/2024/09/cropped-qwen-180x180.webp" />
  <meta name="robots" content="index, follow" />
  <meta name="google-site-verification" content="fqVPifZzIzVQVICweVlgOWCs2eZnP663vzjh0KRvzro" />
</head>
<body>
  <header class="site-header">
    <div class="header-inner">
      <a href="/" class="site-logo">
        <img src="/wp-content/uploads/2024/09/cropped-Qwen-AI.webp" alt="Qwen AI" width="150" height="50" />
      </a>
      <button class="mobile-menu-toggle" aria-label="Toggle menu" id="mobileMenuToggle">
        <span></span><span></span><span></span>
      </button>
      <nav class="main-nav" id="mainNav">
        <a href="/qwen-3/">Qwen 3</a>
        <a href="/chat/">Chat</a>
        <a href="/blog/">Blog</a>
        <a href="/images/">Generate Images</a>
        <a href="/video/">Generate Videos</a>
        <a href="/voice-video-chat/">Voice & Video Chat</a>
        <a href="/prompts/">Prompts</a>
      </nav>
    </div>
  </header>

  <!-- Ad Slot 1: Below header, above content -->
  <div class="ad-slot ad-slot-header">
    <div class="ad-slot-inner" id="ad-slot-1">
      <!-- Se insertará el <ins> de AdSense aquí -->
    </div>
  </div>

  <main class="qwen-page-wrapper">
    <slot />
  </main>

  <footer class="site-footer">
    <div class="footer-inner">
      <p>&copy; 2026 qwen-ai.com | This website is purely informational and is managed by enthusiasts of artificial intelligence. We are not the official site for any AI product, nor do we sell any AI-related products.</p>
      <p class="footer-links">
        <a href="/privacy-policy/">Privacy Policy</a> | <a href="/terms-of-service/">Terms of Service</a>
      </p>
    </div>
  </footer>

  <a href="#" class="back-to-top" id="backToTop" aria-label="Back to top">&#8679;</a>

  <script is:inline>
    // Mobile menu toggle
    var toggle = document.getElementById('mobileMenuToggle');
    var nav = document.getElementById('mainNav');
    if (toggle && nav) {
      toggle.addEventListener('click', function() {
        nav.classList.toggle('open');
        toggle.classList.toggle('open');
      });
    }
    // Back to top
    var btn = document.getElementById('backToTop');
    if (btn) {
      window.addEventListener('scroll', function() {
        btn.style.display = window.scrollY > 300 ? 'flex' : 'none';
      });
      btn.addEventListener('click', function(e) {
        e.preventDefault();
        window.scrollTo({ top: 0, behavior: 'smooth' });
      });
    }

    // Ad Slot 2: After first <p> in article
    (function() {
      var article = document.querySelector('article.qwen-container');
      if (!article) return;
      var firstP = article.querySelector('p');
      if (!firstP) return;
      var adSlot = document.createElement('div');
      adSlot.className = 'ad-slot ad-slot-content';
      adSlot.innerHTML = '<div class="ad-slot-inner" id="ad-slot-2"><!-- Se insertará el <ins> aquí --></div>';
      firstP.parentNode.insertBefore(adSlot, firstP.nextSibling);
    })();

    // Deferred AdSense loading after page load
    window.addEventListener('load', function() {
      var s = document.createElement('script');
      s.src = 'https://pagead2.googlesyndication.com/pagead/js/adsbygoogle.js?client=ca-pub-9609544329602409';
      s.crossOrigin = 'anonymous';
      s.onload = function() {
        var ads = document.querySelectorAll('.adsbygoogle');
        for (var i = 0; i < ads.length; i++) {
          try { (adsbygoogle = window.adsbygoogle || []).push({}); } catch(e) {}
        }
      };
      document.head.appendChild(s);
    });
  </script>
</body>
</html>
